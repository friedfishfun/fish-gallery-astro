---
// src/components/BlogList.astro
import Date from "@components/Date.astro";
import type { Blog } from "@libs/microcms.ts";

interface Props {
  blogs: Blog[];
}

const { blogs }: Props = Astro.props;
---

{
  blogs.length > 0 ? (
    <div class="grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2">
      {blogs.map((blog) => (
        <a
          href={`/blog/${blog.id}`}
          class="group block overflow-hidden rounded-md bg-gray-100"
          aria-label={blog.title}
          title={blog.title}
        >
          <img
            src={
              blog.thumbnail?.url
                ? `${blog.thumbnail.url}?q=60&w=600&fit=crop`
                : "/assets/images/noimg.png"
            }
            alt={blog.title}
            class="w-full aspect-square object-cover transition-transform duration-200 group-hover:scale-105"
            loading="lazy"
          />

          {/* タイトルを軽く出したい場合：不要ならこのdivを消してOK */}
          <div class="px-2 py-1 text-xs truncate bg-white/90">
            {blog.title}
          </div>
        </a>
      ))}
    </div>
  ) : (
    <p class="text-center text-gray-500 text-lg">記事がありません</p>
  )
}